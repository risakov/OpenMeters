# OpenSpaceHack_YoungMeters

_____
# Android
## Используемые технологии:
* Clean architecture
* Kotlin 
* MVP (Moxy)
* Glide 
* Rx for async
* Dagger for dependency injection
* Retrofit
* AndroidNavigationComponent
* Camera2Api 

### Описание приложения:
Андроид приложение, которое содержит в себе 3 вкладки:
- Историю
- Процесс съёмки и выбора из галереи изображений, обработки их и дальнейшего заполнения, если нейронная сеть не смогла распознать информацию
- Профиль

### Установка приложения:
* Склонировать модуль android из репозитория и установить на свой девайс
* Или скачать и установить APK - https://drive.google.com/file/d/11Q8mgJ_lbTw3I0NtA4-7rHzZqe_5Vg_p/view?usp=sharing
_____
# iOS
## Используемые технологии:
* Clean architecture
* MVP
* Swift 
* RxSwift 
* RxNetworkClientApi
* DITranquility
* BSImagePicker
* R.swift
iOS приложение, которое содержит в себе практически то же самое, что и Android, за исключением некоторых изменений

## Порядок сборки проекта
1. Склонировать репозиторий
2. В терминале перейти в корневую папку проекта (/iOS)
3. Выполнить команду - pod deintegrate
4. Выполнить команду - pod install
5. Запустить файл проекта iOS.xcworkspace и собрать его
6. Первый экран - ввод локального сервера, который необходимо развернуть(инструкция по развертыванию ниже), а затем вставить в поле.
_____

# Локальный сервер
## Чтобы решить задачу обнаружения показателей счетчиков, мы разбили ее на три подзадачи:
- Локализация на изображении значений счетчика
- На локализованном участке изображения выделение каждой цифры
- Каждую отдельную цифру классифицировать
#### Для решения 1 пункта мы прибегли к двум методам: каскады Хаара и нейронная сеть. Так как каскад не смог показать должных результатов, было принято решение остановиться на более медленной, но эффективной нейронной сети. Для обучения использовалась библиотека pytorch и detecto.  Была взята предобученная модель и до обучена на наших данных. Результат хороший, хоть и на одну фотографию уходит 12 секунд.
#### Для решения 2 пункта воспользовались методами библиотеки opencv. Провели предобработку изображения и выделили контуры.
#### Для решения 3 пункта мы установили OCR. Данный действенный метод компьютерного зрения показал хорошие результаты по распознаванию цифр.
#### Для правильного запуска необходимо установить Tesseract и указать в файле ocr.py полный путь к исполняемому файлу: pytesseract.pytesseract.tesseract_cmd = r'C:\\Program Files\\Tesseract-OCR\\tesseract.exe'
#### Также, помимо файла requirements.txt необходимо отдельно установить pytorch и detecto.
___
